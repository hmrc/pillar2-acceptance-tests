[info] welcome to sbt 1.10.10 (Eclipse Adoptium Java 11.0.19)
[info] loading settings for project pillar2-acceptance-tests-build from plugins.sbt...
[info] loading project definition from /Users/olkuy/workspace/PIL-2275/pillar2-acceptance-tests/project
[info] SbtAutoBuildPlugin - adding projectSettings
[info] loading settings for project testSuite from build.sbt...
[info] SbtAutoBuildPlugin - adding global settings
[info] SbtAutoBuildPlugin - repository is marked public. Licence headers will be added to all source files
[info] set current project to pillar2-acceptance-tests (in build file:/Users/olkuy/workspace/PIL-2275/pillar2-acceptance-tests/)
[info] compiling 2 Scala sources to /Users/olkuy/workspace/PIL-2275/pillar2-acceptance-tests/target/scala-2.13/test-classes ...
[info] done compiling
17:45:04.605 [pool-6-thread-7] INFO uk.gov.hmrc.selenium.webdriver.DriverFactory -- Browser: chrome 136
17:45:04.651 [pool-6-thread-7] INFO uk.gov.hmrc.selenium.webdriver.DriverFactory -- Accessibility assessment: Enabled
17:45:04.665 [pool-6-thread-7] INFO uk.gov.hmrc.selenium.webdriver.DriverFactory -- Browser option (headless): Enabled
17:45:06.965 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.Nav$ -- Instantiating Browser: chrome
17:45:07.310 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.SubscriptionJourneySteps -- Instantiating Browser: chrome
17:45:07.331 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.UPEPageSteps -- Instantiating Browser: chrome
17:45:07.335 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.RFMPagesStepDef -- Instantiating Browser: chrome
17:45:07.339 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.PaymentSteps -- Instantiating Browser: chrome
17:45:07.351 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.Pillar2SubmissionSteps -- Instantiating Browser: chrome
17:45:07.357 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.StepDef -- Instantiating Browser: chrome
17:45:07.370 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.TaskListPageSteps -- Instantiating Browser: chrome
17:45:07.372 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.ChangeYourAnswersPageSteps -- Instantiating Browser: chrome
17:45:07.373 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.ASAStepDef -- Instantiating Browser: chrome
17:45:07.374 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.NFMPageSteps -- Instantiating Browser: chrome
17:45:07.378 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.EligibilityQuestionSteps -- Instantiating Browser: chrome

@tests @zap_accessibility @batch3
Scenario: 1 - Verify RFM journey for NFM No Id flow until check your answers page and validate that previously entered data is pre populated    [90m# src/test/resources/features/RFMnfmNoIDFlow.feature:7[0m
17:45:07.452 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.pages.AuthLoginPage$ -- Instantiating Browser: chrome
17:45:07.699 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.Input$ -- Instantiating Browser: chrome
17:45:07.704 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.Find$ -- Instantiating Browser: chrome
17:45:07.706 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.Wait$ -- Instantiating Browser: chrome
  [32mGiven [0m[32m[0m[32m[1mOrganisation User[0m[32m logs in with rfm URL to Pillar2[0m                                                                                       [90m# RFMPagesStepDef.scala:32[0m
  [32mWhen [0m[32mI provide RFM [0m[32m[1mpillar2 id[0m[32m as [0m[32m[1mXMPLR0123456789[0m                                                                                              [90m# RFMPagesStepDef.scala:79[0m
  [32mWhen [0m[32mI enter registration date as:[0m                                                                                                            [90m# RFMPagesStepDef.scala:382[0m
    | KEY                       | VALUE |
    | rfmRegistrationDate.day   | 31    |
    | rfmRegistrationDate.month | 1     |
    | rfmRegistrationDate.year  | 2024  |
17:45:09.320 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.Check$ -- Instantiating Browser: chrome
  [32mThen [0m[32mI should be on [0m[32m[1mRFM CYA Page[0m                                                                                                              [90m# EligibilityQuestionSteps.scala:107[0m
  [32mWhen [0m[32mI click on Save&Continue button[0m                                                                                                          [90m# UPEPageSteps.scala:332[0m
  [32mThen [0m[32mI should be on [0m[32m[1mRFM Saving Progress Page[0m                                                                                                  [90m# EligibilityQuestionSteps.scala:107[0m
  [32mWhen [0m[32m[0m[32m[1mI click on Continue button[0m                                                                                                               [90m# StepDef.scala:185[0m
  [32mThen [0m[32mI should be on [0m[32m[1mRFM Corp Position Page[0m                                                                                                    [90m# EligibilityQuestionSteps.scala:107[0m
  [32mAnd [0m[32m[0m[32m[1mI click on Continue button[0m                                                                                                                [90m# StepDef.scala:185[0m
  [32mWhen [0m[32mI select corp position as [0m[32m[1mNFM[0m                                                                                                            [90m# RFMPagesStepDef.scala:297[0m
  [32mThen [0m[32mI should be on [0m[32m[1mNew NFM guidance page[0m                                                                                                     [90m# EligibilityQuestionSteps.scala:107[0m
  [32mWhen [0m[32m[0m[32m[1mI click on Continue button[0m                                                                                                               [90m# StepDef.scala:185[0m
  [32mThen [0m[32mI should be on [0m[32m[1mRFM registered in UK page[0m                                                                                                 [90m# EligibilityQuestionSteps.scala:107[0m
  [32mWhen [0m[32mI select option [0m[32m[1mNo[0m[32m and continue to next[0m                                                                                                  [90m# StepDef.scala:527[0m
  [32mThen [0m[32mI should navigate to [0m[32m[1mRFM New NFM Contact Name Page[0m                                                                                       [90m# EligibilityQuestionSteps.scala:53[0m
  [32mAnd [0m[32m[0m[32m[1mI click on Continue button[0m                                                                                                                [90m# StepDef.scala:185[0m
  [32mThen [0m[32mI should see an error message [0m[32m[1mEnter the name of the new nominated filing member[0m[32m on the RFM [0m[32m[1mcontact name[0m[32m Page[0m                             [90m# RFMPagesStepDef.scala:127[0m
  [32mWhen [0m[32mI enter [0m[32m[1mNFM name[0m[32m as [0m[32m[1mRFMNewNFMContactNameCharacterLengthErrorValidationMaximumNFMNameCharacterLengthShouldBeEnteredLessThanOneHundredFive[0m [90m# UPEPageSteps.scala:26[0m
  [32mThen [0m[32mI should see an error message [0m[32m[1mName of the new nominated filing must be 105 characters or less[0m[32m on the RFM [0m[32m[1mcontact name[0m[32m Page[0m               [90m# RFMPagesStepDef.scala:127[0m
  [32mWhen [0m[32mI refresh the page[0m                                                                                                                       [90m# StepDef.scala:593[0m
  [32mWhen [0m[32mI provide RFM [0m[32m[1mNew NFM Name[0m[32m as [0m[32m[1mTest CYA[0m                                                                                                   [90m# RFMPagesStepDef.scala:79[0m
  [32mThen [0m[32mI should navigate to [0m[32m[1mRFM New NFM Contact Address Page[0m                                                                                    [90m# EligibilityQuestionSteps.scala:53[0m
  [32mAnd [0m[32mI enter [0m[32m[1mAddress Line 1[0m[32m as [0m[32m[1mAddress Line 1 CYA[0m                                                                                              [90m# UPEPageSteps.scala:26[0m
  [32mAnd [0m[32mI enter [0m[32m[1mCity[0m[32m as [0m[32m[1mCity CYA[0m                                                                                                                  [90m# UPEPageSteps.scala:26[0m
  [32mAnd [0m[32mI enter [0m[32m[1mPostal Code[0m[32m as [0m[32m[1mEH5 5WY[0m                                                                                                            [90m# UPEPageSteps.scala:26[0m
  [32mAnd [0m[32mI enter [0m[32m[1mCountry[0m[32m as [0m[32m[1mAustralia[0m                                                                                                              [90m# UPEPageSteps.scala:26[0m
  [32mAnd [0m[32m[0m[32m[1mI click on Country selected[0m                                                                                                               [90m# StepDef.scala:206[0m
  [32mAnd [0m[32m[0m[32m[1mI click on Continue button[0m                                                                                                                [90m# StepDef.scala:185[0m
  [32mThen [0m[32mI should be on [0m[32m[1mRFM No ID CYA Page[0m                                                                                                        [90m# EligibilityQuestionSteps.scala:107[0m
  [32mWhen [0m[32mI click change link for RFM [0m[32m[1mNew NFM Name[0m                                                                                                 [90m# RFMPagesStepDef.scala:273[0m
  [32mThen [0m[32mI should navigate to [0m[32m[1mRFM New NFM Contact Name Change[0m                                                                                     [90m# EligibilityQuestionSteps.scala:53[0m
  [32mWhen [0m[32mI provide RFM [0m[32m[1mNew NFM Name[0m[32m as [0m[32m[1mNew NFM Name Change[0m                                                                                        [90m# RFMPagesStepDef.scala:79[0m
  [32mThen [0m[32mI should navigate to [0m[32m[1mRFM No ID Change CYA Page[0m                                                                                           [90m# EligibilityQuestionSteps.scala:53[0m
  [32mWhen [0m[32m[0m[32m[1mI click on Continue button[0m                                                                                                               [90m# StepDef.scala:185[0m
  [32mThen [0m[32mI should navigate to [0m[32m[1mRFM Contact Guidance page[0m                                                                                           [90m# EligibilityQuestionSteps.scala:53[0m
  [32mAnd [0m[32mI click [0m[32m[1mSign out[0m[32m link[0m                                                                                                                     [90m# StepDef.scala:523[0m
17:45:13.125 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.SubscriptionJourneySteps -- Instantiating Browser: chrome
17:45:13.127 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.UPEPageSteps -- Instantiating Browser: chrome
17:45:13.128 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.RFMPagesStepDef -- Instantiating Browser: chrome
17:45:13.130 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.PaymentSteps -- Instantiating Browser: chrome
17:45:13.132 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.Pillar2SubmissionSteps -- Instantiating Browser: chrome
17:45:13.134 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.StepDef -- Instantiating Browser: chrome
17:45:13.137 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.TaskListPageSteps -- Instantiating Browser: chrome
17:45:13.139 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.ChangeYourAnswersPageSteps -- Instantiating Browser: chrome
17:45:13.140 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.ASAStepDef -- Instantiating Browser: chrome
17:45:13.140 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.NFMPageSteps -- Instantiating Browser: chrome
17:45:13.140 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.EligibilityQuestionSteps -- Instantiating Browser: chrome

@tests @batch3
Scenario: 2 - Validating RFM final submission for RFM as selecting UPE then changed to NFM No ID journey [90m# src/test/resources/features/RFMnfmNoIDFlow.feature:50[0m
  [32mGiven [0m[32mI clear the cache[0m                                                                                [90m# StepDef.scala:143[0m
  [32mWhen [0m[32m[0m[32m[1mOrganisation User[0m[32m logs in with rfm URL to Pillar2[0m                                                 [90m# RFMPagesStepDef.scala:32[0m
  [32mWhen [0m[32mI provide RFM [0m[32m[1mpillar2 id[0m[32m as [0m[32m[1mXMPLR0123456789[0m                                                       [90m# RFMPagesStepDef.scala:79[0m
  [32mWhen [0m[32mI enter registration date as:[0m                                                                     [90m# RFMPagesStepDef.scala:382[0m
    | KEY                       | VALUE |
    | rfmRegistrationDate.day   | 31    |
    | rfmRegistrationDate.month | 1     |
    | rfmRegistrationDate.year  | 2024  |
  [32mWhen [0m[32mI click on Save&Continue button[0m                                                                   [90m# UPEPageSteps.scala:332[0m
  [32mWhen [0m[32m[0m[32m[1mI click on Continue button[0m                                                                        [90m# StepDef.scala:185[0m
  [32mWhen [0m[32mI select corp position as [0m[32m[1mUPE[0m                                                                     [90m# RFMPagesStepDef.scala:297[0m
  [32mAnd [0m[32m[0m[32m[1mI click on Continue button[0m                                                                         [90m# StepDef.scala:185[0m
  [32mWhen [0m[32mI provide RFM [0m[32m[1mcontact name[0m[32m as [0m[32m[1mRFM test contact[0m                                                    [90m# RFMPagesStepDef.scala:79[0m
  [32mWhen [0m[32mI provide RFM [0m[32m[1mcontact email[0m[32m as [0m[32m[1mrfm@email.com[0m                                                      [90m# RFMPagesStepDef.scala:79[0m
  [32mThen [0m[32mI should navigate to [0m[32m[1mRFM Contact Number Page[0m                                                      [90m# EligibilityQuestionSteps.scala:53[0m
  [32mWhen [0m[32mI select option [0m[32m[1mNo[0m[32m and continue to next[0m                                                           [90m# StepDef.scala:527[0m
  [32mAnd [0m[32mI select option [0m[32m[1mNo[0m[32m and continue to next[0m                                                            [90m# StepDef.scala:527[0m
  [31mWhen [0m[31mI enter Address as:[0m                                                                               [90m# EligibilityQuestionSteps.scala:79[0m
    | KEY          | VALUE              |
    | addressLine1 | RFM Address Line 1 |
    | addressLine3 | RFM City           |
    | postalCode   | EH5 5WY            |
    | countryCode  | United Kingdom     |
      [31morg.openqa.selenium.TimeoutException: Expected condition failed: waiting for presence of element located by: By.id: addressLine1 (tried for 15 second(s) with 500 milliseconds interval)
	at org.openqa.selenium.support.ui.WebDriverWait.timeoutException(WebDriverWait.java:84)
	at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:228)
	at uk.gov.hmrc.test.ui.cucumber.Wait$.waitForElementToPresentById(Wait.scala:71)
	at uk.gov.hmrc.test.ui.cucumber.stepdefs.EligibilityQuestionSteps.$anonfun$new$6(EligibilityQuestionSteps.scala:90)
	at ✽.I enter Address as:(file:///Users/olkuy/workspace/PIL-2275/pillar2-acceptance-tests/src/test/resources/features/RFMnfmNoIDFlow.feature:68)
Caused by: org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {"method":"css selector","selector":"#addressLine1"}
  (Session info: chrome=136.0.7103.113)
For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception
Build info: version: '4.33.0', revision: '2c6aaad03a'
System info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '15.6', java.version: '11.0.19'
Driver info: org.openqa.selenium.chrome.ChromeDriver
Command: [8b0e871579b93bceb5c073c5bceba658, findElement {using=id, value=addressLine1}]
Capabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 136.0.7103.113, chrome: {chromedriverVersion: 136.0.7103.113 (76fa3c17824..., userDataDir: /var/folders/hf/lnyf1q6x6w1...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:50645}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: mac, proxy: Proxy(), se:cdp: ws://localhost:50645/devtoo..., se:cdpVersion: 136.0.7103.113, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}
Session ID: 8b0e871579b93bceb5c073c5bceba658
	at jdk.internal.reflect.GeneratedConstructorAccessor20.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)
	at org.openqa.selenium.remote.ErrorCodec.decode(ErrorCodec.java:167)
	at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:138)
	at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:50)
	at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:215)
	at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:216)
	at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:174)
	at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:544)
	at org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:165)
	at org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:59)
	at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:367)
	at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:361)
	at org.openqa.selenium.support.ui.ExpectedConditions$6.apply(ExpectedConditions.java:171)
	at org.openqa.selenium.support.ui.ExpectedConditions$6.apply(ExpectedConditions.java:168)
	at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:203)
	at uk.gov.hmrc.test.ui.cucumber.Wait$.waitForElementToPresentById(Wait.scala:71)
	at uk.gov.hmrc.test.ui.cucumber.stepdefs.EligibilityQuestionSteps.$anonfun$new$6(EligibilityQuestionSteps.scala:90)
	at io.cucumber.scala.StepDsl$StepBody$$anonfun$apply$2.applyOrElse(StepDsl.scala:60)
	at io.cucumber.scala.StepDsl$StepBody$$anonfun$apply$2.applyOrElse(StepDsl.scala:58)
	at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:35)
	at io.cucumber.scala.ScalaStepDefinition.$anonfun$execute$1(ScalaStepDefinition.scala:31)
	at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.scala:18)
	at scala.util.Try$.apply(Try.scala:217)
	at io.cucumber.scala.AbstractGlueDefinition.executeAsCucumber(AbstractGlueDefinition.scala:36)
	at io.cucumber.scala.AbstractGlueDefinition.executeAsCucumber$(AbstractGlueDefinition.scala:35)
	at io.cucumber.scala.ScalaScenarioScopedStepDefinition.executeAsCucumber(ScalaStepDefinition.scala:59)
	at io.cucumber.scala.ScalaStepDefinition.execute(ScalaStepDefinition.scala:30)
	at io.cucumber.scala.ScalaStepDefinition.execute$(ScalaStepDefinition.scala:29)
	at io.cucumber.scala.ScalaScenarioScopedStepDefinition.execute(ScalaStepDefinition.scala:59)
	at io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)
	at io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)
	at io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)
	at io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)
	at io.cucumber.core.runner.TestStep.run(TestStep.java:56)
	at io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)
	at io.cucumber.core.runner.TestCase.run(TestCase.java:84)
	at io.cucumber.core.runner.Runner.runPickle(Runner.java:75)
	at io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)
	at io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)
	at io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)
	at io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)
	at io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:148)
	at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:144)
	at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:28)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at io.cucumber.junit.FeatureRunner.run(FeatureRunner.java:137)
	at io.cucumber.junit.Cucumber.runChild(Cucumber.java:196)
	at io.cucumber.junit.Cucumber.runChild(Cucumber.java:89)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at io.cucumber.core.runtime.CucumberExecutionContext.lambda$runFeatures$6(CucumberExecutionContext.java:148)
	at io.cucumber.core.runtime.CucumberExecutionContext.execute(CucumberExecutionContext.java:163)
	at io.cucumber.core.runtime.CucumberExecutionContext.runFeatures(CucumberExecutionContext.java:146)
	at io.cucumber.junit.Cucumber$StartAndFinishTestRun.evaluate(Cucumber.java:226)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at com.novocode.junit.JUnitRunner$1.execute(JUnitRunner.java:132)
	at sbt.TestRunner.runTest$1(TestFramework.scala:153)
	at sbt.TestRunner.run(TestFramework.scala:168)
	at sbt.TestFramework$$anon$3$$anonfun$$lessinit$greater$1.$anonfun$apply$1(TestFramework.scala:336)
	at sbt.TestFramework$.sbt$TestFramework$$withContextLoader(TestFramework.scala:296)
	at sbt.TestFramework$$anon$3$$anonfun$$lessinit$greater$1.apply(TestFramework.scala:336)
	at sbt.TestFramework$$anon$3$$anonfun$$lessinit$greater$1.apply(TestFramework.scala:336)
	at sbt.TestFunction.apply(TestFramework.scala:348)
	at sbt.Tests$.processRunnable$1(Tests.scala:475)
	at sbt.Tests$.$anonfun$makeSerial$1(Tests.scala:481)
	at sbt.std.Transform$$anon$3.$anonfun$apply$2(Transform.scala:47)
	at sbt.std.Transform$$anon$4.work(Transform.scala:69)
	at sbt.Execute.$anonfun$submit$2(Execute.scala:283)
	at sbt.internal.util.ErrorHandling$.wideConvert(ErrorHandling.scala:24)
	at sbt.Execute.work(Execute.scala:292)
	at sbt.Execute.$anonfun$submit$1(Execute.scala:283)
	at sbt.ConcurrentRestrictions$$anon$4.$anonfun$submitValid$1(ConcurrentRestrictions.scala:265)
	at sbt.CompletionService$$anon$2.call(CompletionService.scala:65)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM Final Review Page[0m                                                        [90m# EligibilityQuestionSteps.scala:53[0m
  [36mAnd [0m[36mI should see row [0m[36m[1m1[0m[36m key [0m[36m[1mPosition in the group’s corporate structure[0m                                 [90m# ChangeYourAnswersPageSteps.scala:28[0m
  [36mAnd [0m[36mI should see row [0m[36m[1m1[0m[36m value [0m[36m[1mUltimate Parent Entity (UPE)[0m                                              [90m# ChangeYourAnswersPageSteps.scala:32[0m
  [36mWhen [0m[36mI click change link for RFM [0m[36m[1mCorporate Position[0m                                                    [90m# RFMPagesStepDef.scala:273[0m
  [36mWhen [0m[36mI select corp position as [0m[36m[1mNFM[0m                                                                     [90m# RFMPagesStepDef.scala:297[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                                         [90m# StepDef.scala:185[0m
  [36mWhen [0m[36mI select option [0m[36m[1mNo[0m[36m and continue to next[0m                                                           [90m# StepDef.scala:527[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                                         [90m# StepDef.scala:185[0m
  [36mWhen [0m[36mI provide RFM [0m[36m[1mNew NFM Name[0m[36m as [0m[36m[1mTest CYA[0m                                                            [90m# RFMPagesStepDef.scala:79[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM New NFM Contact Address Page[0m                                             [90m# EligibilityQuestionSteps.scala:53[0m
  [36mWhen [0m[36mI enter Address as:[0m                                                                               [90m# EligibilityQuestionSteps.scala:79[0m
    | KEY          | VALUE                |
    | addressLine1 | Address Line 1 & CYA |
    | addressLine3 | City CYA             |
    | postalCode   | EH5 5WY              |
    | countryCode  | Australia            |
  [36mThen [0m[36mI should be on [0m[36m[1mRFM No ID CYA Page[0m                                                                 [90m# EligibilityQuestionSteps.scala:107[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                                         [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM Final Review Page[0m                                                        [90m# EligibilityQuestionSteps.scala:53[0m
  [36mWhen [0m[36mI select back link[0m                                                                                [90m# EligibilityQuestionSteps.scala:38[0m
  [36mThen [0m[36mI should be on [0m[36m[1mRFM No ID CYA Page[0m                                                                 [90m# EligibilityQuestionSteps.scala:107[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                                         [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM Final Review Page[0m                                                        [90m# EligibilityQuestionSteps.scala:53[0m
  [36mAnd [0m[36mI should see details as below:[0m                                                                     [90m# ChangeYourAnswersPageSteps.scala:42[0m
    | KEY                                         | VALUE                       |
    | Position in the group’s corporate structure | New nominated filing member |
    | Name                                        | Test CYA                    |
    | Address                                     | Address Line 1 & CYA        |
    | Address                                     | City CYA                    |
    | Address                                     | EH55WY                      |
    | Address                                     | Australia                   |
  [36mWhen [0m[36mI click change link for RFM [0m[36m[1mInput Name[0m                                                            [90m# RFMPagesStepDef.scala:273[0m
  [36mWhen [0m[36mI provide RFM [0m[36m[1mNew NFM Name[0m[36m as [0m[36m[1mTest Change[0m                                                         [90m# RFMPagesStepDef.scala:79[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM Final Review Page[0m                                                        [90m# EligibilityQuestionSteps.scala:53[0m
  [36mWhen [0m[36mI click change link for RFM [0m[36m[1mInput Address[0m                                                         [90m# RFMPagesStepDef.scala:273[0m
  [36mAnd [0m[36mI enter [0m[36m[1mAddress Line 1[0m[36m as [0m[36m[1mAddress Line 1 Change[0m                                                    [90m# UPEPageSteps.scala:26[0m
  [36mAnd [0m[36mI enter [0m[36m[1mCity[0m[36m as [0m[36m[1mCity Change[0m                                                                        [90m# UPEPageSteps.scala:26[0m
  [36mAnd [0m[36mI enter [0m[36m[1mPostal Code[0m[36m as [0m[36m[1mEH75WK[0m                                                                      [90m# UPEPageSteps.scala:26[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                                         [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM Final Review Page[0m                                                        [90m# EligibilityQuestionSteps.scala:53[0m
  [36mAnd [0m[36mI should see row [0m[36m[1m3[0m[36m value [0m[36m[1mAddress Line 1 Change[0m                                                     [90m# ChangeYourAnswersPageSteps.scala:32[0m
  [36mAnd [0m[36mI should see row [0m[36m[1m3[0m[36m value [0m[36m[1mCity Change[0m                                                               [90m# ChangeYourAnswersPageSteps.scala:32[0m
  [36mAnd [0m[36mI should see row [0m[36m[1m3[0m[36m value [0m[36m[1mEH75WK[0m                                                                    [90m# ChangeYourAnswersPageSteps.scala:32[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                                         [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should be redirect to [0m[36m[1mRFM processing page[0m                                                       [90m# EligibilityQuestionSteps.scala:132[0m
  [36mAnd [0m[36mI should be on [0m[36m[1mRFM Confirmation Page[0m                                                               [90m# EligibilityQuestionSteps.scala:107[0m
  [36mAnd [0m[36mI should see [0m[36m[1mreport and manage your group's Pillar 2 Top-up Taxes[0m[36m link[0m                             [90m# StepDef.scala:566[0m
  [36mAnd [0m[36mI can see [0m[36m[1mPrint this page[0m[36m link[0m                                                                     [90m# StepDef.scala:610[0m
  [36mWhen [0m[36mI click the browser back button[0m                                                                   [90m# StepDef.scala:543[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM No Return Back Error Page[0m                                                [90m# EligibilityQuestionSteps.scala:53[0m
  [36mAnd [0m[36mI click [0m[36m[1mreport and manage your Pillar 2 Top-up Taxes[0m[36m link[0m                                          [90m# StepDef.scala:523[0m
  [36mThen [0m[36mI should be on [0m[36m[1mDashboard page[0m                                                                     [90m# EligibilityQuestionSteps.scala:107[0m

    Embedding 2_-_Validating_RFM_final_submission_for_RFM_as_selecting_UPE_then_changed_to_NFM_No_ID_journey.png [image/png 191859 bytes]

17:45:34.704 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.SubscriptionJourneySteps -- Instantiating Browser: chrome
17:45:34.707 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.UPEPageSteps -- Instantiating Browser: chrome
17:45:34.709 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.RFMPagesStepDef -- Instantiating Browser: chrome
17:45:34.711 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.PaymentSteps -- Instantiating Browser: chrome
17:45:34.713 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.Pillar2SubmissionSteps -- Instantiating Browser: chrome
17:45:34.713 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.StepDef -- Instantiating Browser: chrome
17:45:34.715 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.TaskListPageSteps -- Instantiating Browser: chrome
17:45:34.716 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.ChangeYourAnswersPageSteps -- Instantiating Browser: chrome
17:45:34.717 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.ASAStepDef -- Instantiating Browser: chrome
17:45:34.717 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.NFMPageSteps -- Instantiating Browser: chrome
17:45:34.717 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.EligibilityQuestionSteps -- Instantiating Browser: chrome

@tests @batch2
Scenario: 3 - Validating RFM Check your answers page navigations   [90m# src/test/resources/features/RFMnfmNoIDFlow.feature:128[0m
  [32mGiven [0m[32m[0m[32m[1mOrganisation User[0m[32m logs in with rfm URL to Pillar2[0m          [90m# RFMPagesStepDef.scala:32[0m
  [32mAnd [0m[32mI access RFM [0m[32m[1mstart[0m[32m page[0m                                      [90m# RFMPagesStepDef.scala:42[0m
  [32mAnd [0m[32m[0m[32m[1mI click on Continue button[0m                                   [90m# StepDef.scala:185[0m
  [32mWhen [0m[32mI provide RFM [0m[32m[1mpillar2 id[0m[32m as [0m[32m[1mXMPLR0123456789[0m                 [90m# RFMPagesStepDef.scala:79[0m
  [32mWhen [0m[32mI enter registration date as:[0m                               [90m# RFMPagesStepDef.scala:382[0m
    | KEY                       | VALUE |
    | rfmRegistrationDate.day   | 31    |
    | rfmRegistrationDate.month | 1     |
    | rfmRegistrationDate.year  | 2024  |
  [32mWhen [0m[32mI click on Save&Continue button[0m                             [90m# UPEPageSteps.scala:332[0m
  [32mWhen [0m[32m[0m[32m[1mI click on Continue button[0m                                  [90m# StepDef.scala:185[0m
  [31mWhen [0m[31mI select corp position as [0m[31m[1mUPE[0m                               [90m# RFMPagesStepDef.scala:297[0m
      [31morg.openqa.selenium.TimeoutException: Expected condition failed: waiting for url to contain "http://localhost:10050/report-pillar2-top-up-taxes/replace-filing-member/corporate-position". Current url: "http://localhost:10050/report-pillar2-top-up-taxes/replace-filing-member/security/check-answers" (tried for 15 second(s) with 500 milliseconds interval)
Build info: version: '4.33.0', revision: '2c6aaad03a'
System info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '15.6', java.version: '11.0.19'
Driver info: org.openqa.selenium.chrome.ChromeDriver
Capabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 136.0.7103.113, chrome: {chromedriverVersion: 136.0.7103.113 (76fa3c17824..., userDataDir: /var/folders/hf/lnyf1q6x6w1...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:50645}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: mac, proxy: Proxy(), se:cdp: ws://localhost:50645/devtoo..., se:cdpVersion: 136.0.7103.113, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}
Session ID: 8b0e871579b93bceb5c073c5bceba658
	at org.openqa.selenium.support.ui.WebDriverWait.timeoutException(WebDriverWait.java:84)
	at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:228)
	at uk.gov.hmrc.test.ui.cucumber.Wait$.waitForUrl(Wait.scala:61)
	at uk.gov.hmrc.test.ui.cucumber.stepdefs.RFMPagesStepDef.$anonfun$new$14(RFMPagesStepDef.scala:322)
	at ✽.I select corp position as UPE(file:///Users/olkuy/workspace/PIL-2275/pillar2-acceptance-tests/src/test/resources/features/RFMnfmNoIDFlow.feature:140)
[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                   [90m# StepDef.scala:185[0m
  [36mWhen [0m[36mI provide RFM [0m[36m[1mcontact name[0m[36m as [0m[36m[1mRFM test contact[0m              [90m# RFMPagesStepDef.scala:79[0m
  [36mWhen [0m[36mI provide RFM [0m[36m[1mcontact email[0m[36m as [0m[36m[1mrfm@email.com[0m                [90m# RFMPagesStepDef.scala:79[0m
  [36mWhen [0m[36mI select option [0m[36m[1mNo[0m[36m and continue to next[0m                     [90m# StepDef.scala:527[0m
  [36mAnd [0m[36mI select option [0m[36m[1mNo[0m[36m and continue to next[0m                      [90m# StepDef.scala:527[0m
  [36mWhen [0m[36mI enter Address as:[0m                                         [90m# EligibilityQuestionSteps.scala:79[0m
    | KEY          | VALUE              |
    | addressLine1 | RFM Address Line 1 |
    | addressLine3 | RFM City           |
    | postalCode   | EH5 5WY            |
    | countryCode  | United Kingdom     |
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM Final Review Page[0m                  [90m# EligibilityQuestionSteps.scala:53[0m
  [36mWhen [0m[36mI click change link for RFM [0m[36m[1mCorporate Position[0m              [90m# RFMPagesStepDef.scala:273[0m
  [36mAnd [0m[36mI select corp position as [0m[36m[1mNFM[0m                                [90m# RFMPagesStepDef.scala:297[0m
  [36mThen [0m[36mI should be on [0m[36m[1mNew NFM guidance page[0m                        [90m# EligibilityQuestionSteps.scala:107[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                   [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should be on [0m[36m[1mRFM registered in UK page[0m                    [90m# EligibilityQuestionSteps.scala:107[0m
  [36mWhen [0m[36mI select option [0m[36m[1mYes[0m[36m and continue to next[0m                    [90m# StepDef.scala:527[0m
  [36mThen [0m[36mI should be on [0m[36m[1mRFM UK based entity type page[0m                [90m# EligibilityQuestionSteps.scala:107[0m
  [36mWhen [0m[36mI select option [0m[36m[1mUK limited company[0m[36m and continue to GRS page[0m [90m# UPEPageSteps.scala:275[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM UK limited Company GRSPage[0m         [90m# EligibilityQuestionSteps.scala:53[0m
  [36mWhen [0m[36mI navigate back to RFM CYA Page from GRS Page[0m               [90m# RFMPagesStepDef.scala:366[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM Final Review Page[0m                  [90m# EligibilityQuestionSteps.scala:53[0m
  [36mWhen [0m[36mI click change link for RFM [0m[36m[1mCorporate Position[0m              [90m# RFMPagesStepDef.scala:273[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                   [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should be on [0m[36m[1mNew NFM guidance page[0m                        [90m# EligibilityQuestionSteps.scala:107[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                   [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should be on [0m[36m[1mRFM registered in UK page[0m                    [90m# EligibilityQuestionSteps.scala:107[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                   [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should be on [0m[36m[1mRFM UK based entity type page[0m                [90m# EligibilityQuestionSteps.scala:107[0m

    Embedding 3_-_Validating_RFM_Check_your_answers_page_navigations.png [image/png 203447 bytes]

17:45:52.980 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.SubscriptionJourneySteps -- Instantiating Browser: chrome
17:45:52.981 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.UPEPageSteps -- Instantiating Browser: chrome
17:45:52.981 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.RFMPagesStepDef -- Instantiating Browser: chrome
17:45:52.982 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.PaymentSteps -- Instantiating Browser: chrome
17:45:52.983 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.Pillar2SubmissionSteps -- Instantiating Browser: chrome
17:45:52.984 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.StepDef -- Instantiating Browser: chrome
17:45:52.986 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.TaskListPageSteps -- Instantiating Browser: chrome
17:45:52.986 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.ChangeYourAnswersPageSteps -- Instantiating Browser: chrome
17:45:52.986 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.ASAStepDef -- Instantiating Browser: chrome
17:45:52.986 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.NFMPageSteps -- Instantiating Browser: chrome
17:45:52.987 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.EligibilityQuestionSteps -- Instantiating Browser: chrome

@tests @batch3
Scenario: 4 - Validating RFM Check your answers page for UPE/NFM journey Responses [90m# src/test/resources/features/RFMnfmNoIDFlow.feature:173[0m
  [32mGiven [0m[32m[0m[32m[1mOrganisation User[0m[32m logs in with rfm URL to Pillar2[0m                          [90m# RFMPagesStepDef.scala:32[0m
  [32mWhen [0m[32mI provide RFM [0m[32m[1mpillar2 id[0m[32m as [0m[32m[1mXMPLR0123456789[0m                                 [90m# RFMPagesStepDef.scala:79[0m
  [32mWhen [0m[32mI enter registration date as:[0m                                               [90m# RFMPagesStepDef.scala:382[0m
    | KEY                       | VALUE |
    | rfmRegistrationDate.day   | 31    |
    | rfmRegistrationDate.month | 1     |
    | rfmRegistrationDate.year  | 2024  |
  [32mWhen [0m[32mI click on Save&Continue button[0m                                             [90m# UPEPageSteps.scala:332[0m
  [32mAnd [0m[32mI access RFM [0m[32m[1mcorporate position[0m[32m page[0m                                         [90m# RFMPagesStepDef.scala:42[0m
  [32mWhen [0m[32mI select corp position as [0m[32m[1mUPE[0m                                               [90m# RFMPagesStepDef.scala:297[0m
  [31mAnd [0m[31m[0m[31m[1mI click on Continue button[0m                                                   [90m# StepDef.scala:185[0m
      [31morg.openqa.selenium.TimeoutException: Expected condition failed: waiting for presence of element located by: By.cssSelector: .govuk-button (tried for 20 second(s) with 250 milliseconds interval)
	at org.openqa.selenium.support.ui.FluentWait.timeoutException(FluentWait.java:265)
	at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:228)
	at uk.gov.hmrc.test.ui.cucumber.Find$.find(Find.scala:30)
	at uk.gov.hmrc.test.ui.cucumber.Find$.findByCss(Find.scala:43)
	at uk.gov.hmrc.test.ui.pages.InitialGuidancePage$.clickContinue(InitialGuidancePage.scala:35)
	at uk.gov.hmrc.test.ui.cucumber.stepdefs.StepDef.$anonfun$new$24(StepDef.scala:186)
	at ✽.I click on Continue button(file:///Users/olkuy/workspace/PIL-2275/pillar2-acceptance-tests/src/test/resources/features/RFMnfmNoIDFlow.feature:184)
Caused by: org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {"method":"css selector","selector":".govuk-button"}
  (Session info: chrome=136.0.7103.113)
For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception
Build info: version: '4.33.0', revision: '2c6aaad03a'
System info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '15.6', java.version: '11.0.19'
Driver info: org.openqa.selenium.chrome.ChromeDriver
Command: [8b0e871579b93bceb5c073c5bceba658, findElement {using=css selector, value=.govuk-button}]
Capabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 136.0.7103.113, chrome: {chromedriverVersion: 136.0.7103.113 (76fa3c17824..., userDataDir: /var/folders/hf/lnyf1q6x6w1...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:50645}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: mac, proxy: Proxy(), se:cdp: ws://localhost:50645/devtoo..., se:cdpVersion: 136.0.7103.113, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}
Session ID: 8b0e871579b93bceb5c073c5bceba658
	at jdk.internal.reflect.GeneratedConstructorAccessor20.newInstance(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)
	at org.openqa.selenium.remote.ErrorCodec.decode(ErrorCodec.java:167)
	at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:138)
	at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:50)
	at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:215)
	at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:216)
	at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:174)
	at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:544)
	at org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:165)
	at org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:59)
	at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:367)
	at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:361)
	at org.openqa.selenium.support.ui.ExpectedConditions$6.apply(ExpectedConditions.java:171)
	at org.openqa.selenium.support.ui.ExpectedConditions$6.apply(ExpectedConditions.java:168)
	at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:203)
	at uk.gov.hmrc.test.ui.cucumber.Find$.find(Find.scala:30)
	at uk.gov.hmrc.test.ui.cucumber.Find$.findByCss(Find.scala:43)
	at uk.gov.hmrc.test.ui.pages.InitialGuidancePage$.clickContinue(InitialGuidancePage.scala:35)
	at uk.gov.hmrc.test.ui.cucumber.stepdefs.StepDef.$anonfun$new$24(StepDef.scala:186)
	at uk.gov.hmrc.test.ui.cucumber.stepdefs.StepDef.$anonfun$new$24$adapted(StepDef.scala:185)
	at io.cucumber.scala.StepDsl$StepBody$$anonfun$apply$2.applyOrElse(StepDsl.scala:60)
	at io.cucumber.scala.StepDsl$StepBody$$anonfun$apply$2.applyOrElse(StepDsl.scala:58)
	at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:35)
	at io.cucumber.scala.ScalaStepDefinition.$anonfun$execute$1(ScalaStepDefinition.scala:31)
	at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.scala:18)
	at scala.util.Try$.apply(Try.scala:217)
	at io.cucumber.scala.AbstractGlueDefinition.executeAsCucumber(AbstractGlueDefinition.scala:36)
	at io.cucumber.scala.AbstractGlueDefinition.executeAsCucumber$(AbstractGlueDefinition.scala:35)
	at io.cucumber.scala.ScalaScenarioScopedStepDefinition.executeAsCucumber(ScalaStepDefinition.scala:59)
	at io.cucumber.scala.ScalaStepDefinition.execute(ScalaStepDefinition.scala:30)
	at io.cucumber.scala.ScalaStepDefinition.execute$(ScalaStepDefinition.scala:29)
	at io.cucumber.scala.ScalaScenarioScopedStepDefinition.execute(ScalaStepDefinition.scala:59)
	at io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)
	at io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)
	at io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)
	at io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)
	at io.cucumber.core.runner.TestStep.run(TestStep.java:56)
	at io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)
	at io.cucumber.core.runner.TestCase.run(TestCase.java:84)
	at io.cucumber.core.runner.Runner.runPickle(Runner.java:75)
	at io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)
	at io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)
	at io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)
	at io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)
	at io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:148)
	at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:144)
	at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:28)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at io.cucumber.junit.FeatureRunner.run(FeatureRunner.java:137)
	at io.cucumber.junit.Cucumber.runChild(Cucumber.java:196)
	at io.cucumber.junit.Cucumber.runChild(Cucumber.java:89)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at io.cucumber.core.runtime.CucumberExecutionContext.lambda$runFeatures$6(CucumberExecutionContext.java:148)
	at io.cucumber.core.runtime.CucumberExecutionContext.execute(CucumberExecutionContext.java:163)
	at io.cucumber.core.runtime.CucumberExecutionContext.runFeatures(CucumberExecutionContext.java:146)
	at io.cucumber.junit.Cucumber$StartAndFinishTestRun.evaluate(Cucumber.java:226)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.junit.runners.Suite.runChild(Suite.java:128)
	at org.junit.runners.Suite.runChild(Suite.java:27)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:115)
	at com.novocode.junit.JUnitRunner$1.execute(JUnitRunner.java:132)
	at sbt.TestRunner.runTest$1(TestFramework.scala:153)
	at sbt.TestRunner.run(TestFramework.scala:168)
	at sbt.TestFramework$$anon$3$$anonfun$$lessinit$greater$1.$anonfun$apply$1(TestFramework.scala:336)
	at sbt.TestFramework$.sbt$TestFramework$$withContextLoader(TestFramework.scala:296)
	at sbt.TestFramework$$anon$3$$anonfun$$lessinit$greater$1.apply(TestFramework.scala:336)
	at sbt.TestFramework$$anon$3$$anonfun$$lessinit$greater$1.apply(TestFramework.scala:336)
	at sbt.TestFunction.apply(TestFramework.scala:348)
	at sbt.Tests$.processRunnable$1(Tests.scala:475)
	at sbt.Tests$.$anonfun$makeSerial$1(Tests.scala:481)
	at sbt.std.Transform$$anon$3.$anonfun$apply$2(Transform.scala:47)
	at sbt.std.Transform$$anon$4.work(Transform.scala:69)
	at sbt.Execute.$anonfun$submit$2(Execute.scala:283)
	at sbt.internal.util.ErrorHandling$.wideConvert(ErrorHandling.scala:24)
	at sbt.Execute.work(Execute.scala:292)
	at sbt.Execute.$anonfun$submit$1(Execute.scala:283)
	at sbt.ConcurrentRestrictions$$anon$4.$anonfun$submitValid$1(ConcurrentRestrictions.scala:265)
	at sbt.CompletionService$$anon$2.call(CompletionService.scala:65)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
[0m
  [36mWhen [0m[36mI provide RFM [0m[36m[1mcontact name[0m[36m as [0m[36m[1mRFM test contact[0m                              [90m# RFMPagesStepDef.scala:79[0m
  [36mWhen [0m[36mI provide RFM [0m[36m[1mcontact email[0m[36m as [0m[36m[1mrfm@email.com[0m                                [90m# RFMPagesStepDef.scala:79[0m
  [36mWhen [0m[36mI select option [0m[36m[1mNo[0m[36m and continue to next[0m                                     [90m# StepDef.scala:527[0m
  [36mAnd [0m[36mI select option [0m[36m[1mNo[0m[36m and continue to next[0m                                      [90m# StepDef.scala:527[0m
  [36mWhen [0m[36mI enter Address as:[0m                                                         [90m# EligibilityQuestionSteps.scala:79[0m
    | KEY          | VALUE              |
    | addressLine1 | RFM Address Line 1 |
    | addressLine3 | RFM City           |
    | postalCode   | EH5 5WY            |
    | countryCode  | United Kingdom     |
  [36mWhen [0m[36mI click change link for RFM [0m[36m[1mCorporate Position[0m                              [90m# RFMPagesStepDef.scala:273[0m
  [36mWhen [0m[36mI select corp position as [0m[36m[1mNFM[0m                                               [90m# RFMPagesStepDef.scala:297[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                   [90m# StepDef.scala:185[0m
  [36mWhen [0m[36mI select option [0m[36m[1mNo[0m[36m and continue to next[0m                                     [90m# StepDef.scala:527[0m
  [36mWhen [0m[36mI provide RFM [0m[36m[1mNew NFM Name[0m[36m as [0m[36m[1mTest CYA[0m                                      [90m# RFMPagesStepDef.scala:79[0m
  [36mWhen [0m[36mI enter Address as:[0m                                                         [90m# EligibilityQuestionSteps.scala:79[0m
    | KEY          | VALUE              |
    | addressLine1 | Address Line 1 CYA |
    | addressLine3 | City CYA           |
    | postalCode   | EH5 5WY            |
    | countryCode  | Australia          |
  [36mThen [0m[36mI should be on [0m[36m[1mRFM No ID CYA Page[0m                                           [90m# EligibilityQuestionSteps.scala:107[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                   [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM Final Review Page[0m                                  [90m# EligibilityQuestionSteps.scala:53[0m
  [36mWhen [0m[36mI select back link[0m                                                          [90m# EligibilityQuestionSteps.scala:38[0m
  [36mThen [0m[36mI should be on [0m[36m[1mRFM No ID CYA Page[0m                                           [90m# EligibilityQuestionSteps.scala:107[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                   [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM Final Review Page[0m                                  [90m# EligibilityQuestionSteps.scala:53[0m
  [36mAnd [0m[36mI should see details as below:[0m                                               [90m# ChangeYourAnswersPageSteps.scala:42[0m
    | KEY                                         | VALUE                       |
    | Position in the group’s corporate structure | New nominated filing member |
    | Name                                        | Test CYA                    |
    | Address                                     | Address Line 1 CYA          |
    | Address                                     | City CYA                    |
    | Address                                     | EH55WY                      |
    | Address                                     | Australia                   |
  [36mWhen [0m[36mI click change link for RFM [0m[36m[1mInput Name[0m                                      [90m# RFMPagesStepDef.scala:273[0m
  [36mWhen [0m[36mI provide RFM [0m[36m[1mNew NFM Name[0m[36m as [0m[36m[1mTest Change[0m                                   [90m# RFMPagesStepDef.scala:79[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM Final Review Page[0m                                  [90m# EligibilityQuestionSteps.scala:53[0m
  [36mWhen [0m[36mI click change link for RFM [0m[36m[1mInput Address[0m                                   [90m# RFMPagesStepDef.scala:273[0m
  [36mAnd [0m[36mI enter [0m[36m[1mAddress Line 1[0m[36m as [0m[36m[1mAddress Line 1 Change[0m                              [90m# UPEPageSteps.scala:26[0m
  [36mAnd [0m[36mI enter [0m[36m[1mCity[0m[36m as [0m[36m[1mCity Change[0m                                                  [90m# UPEPageSteps.scala:26[0m
  [36mAnd [0m[36mI enter [0m[36m[1mPostal Code[0m[36m as [0m[36m[1mEH75WK[0m                                                [90m# UPEPageSteps.scala:26[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                   [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM Final Review Page[0m                                  [90m# EligibilityQuestionSteps.scala:53[0m
  [36mAnd [0m[36mI should see details as below:[0m                                               [90m# ChangeYourAnswersPageSteps.scala:42[0m
    | KEY     | VALUE                 |
    | Address | Address Line 1 Change |
    | Address | City Change           |
    | Address | EH75WK                |
  [36mWhen [0m[36mI click change link for RFM [0m[36m[1mCorporate Position[0m                              [90m# RFMPagesStepDef.scala:273[0m
  [36mWhen [0m[36mI select corp position as [0m[36m[1mUPE[0m                                               [90m# RFMPagesStepDef.scala:297[0m
  [36mAnd [0m[36mI should see row [0m[36m[1m1[0m[36m value [0m[36m[1mUltimate Parent Entity (UPE)[0m                        [90m# ChangeYourAnswersPageSteps.scala:32[0m
  [36mWhen [0m[36mI click change link for RFM [0m[36m[1mCorporate Position[0m                              [90m# RFMPagesStepDef.scala:273[0m
  [36mWhen [0m[36mI select corp position as [0m[36m[1mNFM[0m                                               [90m# RFMPagesStepDef.scala:297[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                   [90m# StepDef.scala:185[0m
  [36mWhen [0m[36mI select option [0m[36m[1mYes[0m[36m and continue to next[0m                                    [90m# StepDef.scala:527[0m
  [36mWhen [0m[36mI select option [0m[36m[1mUK limited company[0m[36m and continue to GRS page[0m                 [90m# UPEPageSteps.scala:275[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM UK limited Company GRSPage[0m                         [90m# EligibilityQuestionSteps.scala:53[0m
  [36mWhen [0m[36mI registered successfully with [0m[36m[1mBV enabled[0m                                   [90m# UPEPageSteps.scala:300[0m
  [36mAnd [0m[36mI click on Save&Continue button[0m                                              [90m# UPEPageSteps.scala:332[0m
  [36mThen [0m[36mI should be on [0m[36m[1mRFM Contact Guidance page[0m                                    [90m# EligibilityQuestionSteps.scala:107[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                   [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM Contact Detail Page[0m                                [90m# EligibilityQuestionSteps.scala:53[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                   [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM Contact Email Page[0m                                 [90m# EligibilityQuestionSteps.scala:53[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                   [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM Contact Number Page[0m                                [90m# EligibilityQuestionSteps.scala:53[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                   [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM Second Contact Question Page[0m                       [90m# EligibilityQuestionSteps.scala:53[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                   [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should be on [0m[36m[1mRFM Contact Address Page[0m                                     [90m# EligibilityQuestionSteps.scala:107[0m
  [36mWhen [0m[36m[0m[36m[1mI click on Continue button[0m                                                  [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM Final Review Page[0m                                  [90m# EligibilityQuestionSteps.scala:53[0m
  [36mAnd [0m[36mI should see details as below:[0m                                               [90m# ChangeYourAnswersPageSteps.scala:42[0m
    | KEY                                         | VALUE                       |
    | Position in the group’s corporate structure | New nominated filing member |
    | Company                                     | Test Example Company Name   |
    | Company Registration Number                 | 76543210                    |
    | Unique Taxpayer Reference                   | 1234567890                  |

    Embedding 4_-_Validating_RFM_Check_your_answers_page_for_UPE/NFM_journey_Responses.png [image/png 191859 bytes]

17:46:16.065 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.SubscriptionJourneySteps -- Instantiating Browser: chrome
17:46:16.067 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.UPEPageSteps -- Instantiating Browser: chrome
17:46:16.068 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.RFMPagesStepDef -- Instantiating Browser: chrome
17:46:16.069 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.PaymentSteps -- Instantiating Browser: chrome
17:46:16.070 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.Pillar2SubmissionSteps -- Instantiating Browser: chrome
17:46:16.071 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.StepDef -- Instantiating Browser: chrome
17:46:16.072 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.TaskListPageSteps -- Instantiating Browser: chrome
17:46:16.072 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.ChangeYourAnswersPageSteps -- Instantiating Browser: chrome
17:46:16.073 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.ASAStepDef -- Instantiating Browser: chrome
17:46:16.073 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.NFMPageSteps -- Instantiating Browser: chrome
17:46:16.073 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.EligibilityQuestionSteps -- Instantiating Browser: chrome

@tests @batch3
Scenario: 5 - Verify that New NFM can replace existing FM through NO ID flow on the Pillar 2 account [90m# src/test/resources/features/RFMnfmNoIDFlow.feature:267[0m
  [32mGiven [0m[32m[0m[32m[1mOrganisation User[0m[32m logs in with rfm URL to Pillar2[0m                                            [90m# RFMPagesStepDef.scala:32[0m
  [32mWhen [0m[32mI provide RFM [0m[32m[1mpillar2 id[0m[32m as [0m[32m[1mXMPLR0123456789[0m                                                   [90m# RFMPagesStepDef.scala:79[0m
  [32mWhen [0m[32mI enter registration date as:[0m                                                                 [90m# RFMPagesStepDef.scala:382[0m
    | KEY                       | VALUE |
    | rfmRegistrationDate.day   | 31    |
    | rfmRegistrationDate.month | 1     |
    | rfmRegistrationDate.year  | 2024  |
  [32mWhen [0m[32mI click on Save&Continue button[0m                                                               [90m# UPEPageSteps.scala:332[0m
  [32mWhen [0m[32m[0m[32m[1mI click on Continue button[0m                                                                    [90m# StepDef.scala:185[0m
  [31mWhen [0m[31mI select corp position as [0m[31m[1mNFM[0m                                                                 [90m# RFMPagesStepDef.scala:297[0m
      [31morg.openqa.selenium.TimeoutException: Expected condition failed: waiting for url to contain "http://localhost:10050/report-pillar2-top-up-taxes/replace-filing-member/corporate-position". Current url: "http://localhost:10050/report-pillar2-top-up-taxes/replace-filing-member/security/saving-progress" (tried for 15 second(s) with 500 milliseconds interval)
Build info: version: '4.33.0', revision: '2c6aaad03a'
System info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '15.6', java.version: '11.0.19'
Driver info: org.openqa.selenium.chrome.ChromeDriver
Capabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 136.0.7103.113, chrome: {chromedriverVersion: 136.0.7103.113 (76fa3c17824..., userDataDir: /var/folders/hf/lnyf1q6x6w1...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:50645}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: mac, proxy: Proxy(), se:cdp: ws://localhost:50645/devtoo..., se:cdpVersion: 136.0.7103.113, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}
Session ID: 8b0e871579b93bceb5c073c5bceba658
	at org.openqa.selenium.support.ui.WebDriverWait.timeoutException(WebDriverWait.java:84)
	at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:228)
	at uk.gov.hmrc.test.ui.cucumber.Wait$.waitForUrl(Wait.scala:61)
	at uk.gov.hmrc.test.ui.cucumber.stepdefs.RFMPagesStepDef.$anonfun$new$14(RFMPagesStepDef.scala:322)
	at ✽.I select corp position as NFM(file:///Users/olkuy/workspace/PIL-2275/pillar2-acceptance-tests/src/test/resources/features/RFMnfmNoIDFlow.feature:277)
[0m
  [36mWhen [0m[36m[0m[36m[1mI click on Continue button[0m                                                                    [90m# StepDef.scala:185[0m
  [36mAnd [0m[36mI select option [0m[36m[1mNo[0m[36m and continue to next[0m                                                        [90m# StepDef.scala:527[0m
  [36mWhen [0m[36mI provide RFM [0m[36m[1mNew NFM Name[0m[36m as [0m[36m[1mTest CYA[0m                                                        [90m# RFMPagesStepDef.scala:79[0m
  [36mWhen [0m[36mI enter Address as:[0m                                                                           [90m# EligibilityQuestionSteps.scala:79[0m
    | KEY          | VALUE              |
    | addressLine1 | Address Line 1 CYA |
    | addressLine3 | City CYA           |
    | postalCode   | EH5 5WY            |
    | countryCode  | Australia          |
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                                     [90m# StepDef.scala:185[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                                     [90m# StepDef.scala:185[0m
  [36mWhen [0m[36mI provide RFM [0m[36m[1mcontact name[0m[36m as [0m[36m[1mRFM test contact[0m                                                [90m# RFMPagesStepDef.scala:79[0m
  [36mWhen [0m[36mI provide RFM [0m[36m[1mcontact email[0m[36m as [0m[36m[1mrfm@email.com[0m                                                  [90m# RFMPagesStepDef.scala:79[0m
  [36mAnd [0m[36mI select option [0m[36m[1mNo[0m[36m and continue to next[0m                                                        [90m# StepDef.scala:527[0m
  [36mAnd [0m[36mI select option [0m[36m[1mNo[0m[36m and continue to next[0m                                                        [90m# StepDef.scala:527[0m
  [36mWhen [0m[36mI enter Address as:[0m                                                                           [90m# EligibilityQuestionSteps.scala:79[0m
    | KEY          | VALUE              |
    | addressLine1 | Address Line 1 CYA |
    | addressLine3 | City CYA           |
    | postalCode   | EH5 5WY            |
    | countryCode  | Australia          |
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM Final Review Page[0m                                                    [90m# EligibilityQuestionSteps.scala:53[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                                     [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should be redirect to [0m[36m[1mRFM processing page[0m                                                   [90m# EligibilityQuestionSteps.scala:132[0m
  [36mAnd [0m[36mI should see [0m[36m[1mReport Pillar 2 Top-up Taxes[0m[36m text is not clickable[0m                                [90m# RFMPagesStepDef.scala:372[0m
  [36mAnd [0m[36mI should be on [0m[36m[1mRFM Confirmation Page[0m                                                           [90m# EligibilityQuestionSteps.scala:107[0m
  [36mAnd [0m[36mI should see [0m[36m[1mreport and manage your group's Pillar 2 Top-up Taxes[0m[36m link[0m                         [90m# StepDef.scala:566[0m
  [36mAnd [0m[36mI can see [0m[36m[1mPrint this page[0m[36m link[0m                                                                 [90m# StepDef.scala:610[0m
  [36mWhen [0m[36mI click [0m[36m[1mreport and manage your group's Pillar 2 Top-up Taxes[0m[36m link[0m                             [90m# StepDef.scala:523[0m
  [36mThen [0m[36mI should be on [0m[36m[1mDashboard page[0m                                                                 [90m# EligibilityQuestionSteps.scala:107[0m

    Embedding 5_-_Verify_that_New_NFM_can_replace_existing_FM_through_NO_ID_flow_on_the_Pillar_2_account.png [image/png 212684 bytes]

17:46:34.872 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.SubscriptionJourneySteps -- Instantiating Browser: chrome
17:46:34.874 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.UPEPageSteps -- Instantiating Browser: chrome
17:46:34.875 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.RFMPagesStepDef -- Instantiating Browser: chrome
17:46:34.876 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.PaymentSteps -- Instantiating Browser: chrome
17:46:34.877 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.Pillar2SubmissionSteps -- Instantiating Browser: chrome
17:46:34.878 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.StepDef -- Instantiating Browser: chrome
17:46:34.879 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.TaskListPageSteps -- Instantiating Browser: chrome
17:46:34.880 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.ChangeYourAnswersPageSteps -- Instantiating Browser: chrome
17:46:34.880 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.ASAStepDef -- Instantiating Browser: chrome
17:46:34.880 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.NFMPageSteps -- Instantiating Browser: chrome
17:46:34.880 [pool-6-thread-7] INFO uk.gov.hmrc.test.ui.cucumber.stepdefs.EligibilityQuestionSteps -- Instantiating Browser: chrome

@tests @batch3
Scenario: 6 - Verify that UPE can replace existing FM on the Pillar 2 account                                                      [90m# src/test/resources/features/RFMnfmNoIDFlow.feature:310[0m
  [32mGiven [0m[32m[0m[32m[1mOrganisation User[0m[32m logs in with rfm URL to Pillar2[0m                                                                          [90m# RFMPagesStepDef.scala:32[0m
  [32mWhen [0m[32mI provide RFM [0m[32m[1mpillar2 id[0m[32m as [0m[32m[1mXMPLR0123456789[0m                                                                                 [90m# RFMPagesStepDef.scala:79[0m
  [32mWhen [0m[32mI enter registration date as:[0m                                                                                               [90m# RFMPagesStepDef.scala:382[0m
    | KEY                       | VALUE |
    | rfmRegistrationDate.day   | 31    |
    | rfmRegistrationDate.month | 1     |
    | rfmRegistrationDate.year  | 2024  |
  [31mWhen [0m[31mI click on Save&Continue button[0m                                                                                             [90m# UPEPageSteps.scala:332[0m
      [31morg.openqa.selenium.StaleElementReferenceException: stale element reference: stale element not found
  (Session info: chrome=136.0.7103.113)
For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
Build info: version: '4.33.0', revision: '2c6aaad03a'
System info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '15.6', java.version: '11.0.19'
Driver info: org.openqa.selenium.chrome.ChromeDriver
Command: [8b0e871579b93bceb5c073c5bceba658, clickElement {id=f.5CA81AB78492EBD40621862897154AC2.d.ADDC2CCF231EAEC62F12E8DD8D73BF92.e.811}]
Capabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 136.0.7103.113, chrome: {chromedriverVersion: 136.0.7103.113 (76fa3c17824..., userDataDir: /var/folders/hf/lnyf1q6x6w1...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:50645}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: mac, proxy: Proxy(), se:cdp: ws://localhost:50645/devtoo..., se:cdpVersion: 136.0.7103.113, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}
Element: [[ChromeDriver: chrome on mac (8b0e871579b93bceb5c073c5bceba658)] -> css selector: button.govuk-button]
Session ID: 8b0e871579b93bceb5c073c5bceba658
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)
	at org.openqa.selenium.remote.ErrorCodec.decode(ErrorCodec.java:167)
	at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:138)
	at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:50)
	at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:215)
	at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:216)
	at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:174)
	at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:544)
	at org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:223)
	at org.openqa.selenium.remote.RemoteWebElement.click(RemoteWebElement.java:76)
	at uk.gov.hmrc.test.ui.pages.UPEEntityTypePage$.clickContinue(UPEEntityTypePage.scala:39)
	at uk.gov.hmrc.test.ui.cucumber.stepdefs.UPEPageSteps.$anonfun$new$15(UPEPageSteps.scala:339)
	at ✽.I click on Save&Continue button(file:///Users/olkuy/workspace/PIL-2275/pillar2-acceptance-tests/src/test/resources/features/RFMnfmNoIDFlow.feature:318)
[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                                                                   [90m# StepDef.scala:185[0m
  [36mWhen [0m[36mI select corp position as [0m[36m[1mUPE[0m                                                                                               [90m# RFMPagesStepDef.scala:297[0m
  [36mWhen [0m[36m[0m[36m[1mI click on Continue button[0m                                                                                                  [90m# StepDef.scala:185[0m
  [36mWhen [0m[36mI provide RFM [0m[36m[1mcontact name[0m[36m as [0m[36m[1mRFM test contact[0m                                                                              [90m# RFMPagesStepDef.scala:79[0m
  [36mWhen [0m[36mI provide RFM [0m[36m[1mcontact email[0m[36m as [0m[36m[1mrfm@email.com[0m                                                                                [90m# RFMPagesStepDef.scala:79[0m
  [36mAnd [0m[36mI select option [0m[36m[1mYes[0m[36m and continue to next[0m                                                                                     [90m# StepDef.scala:527[0m
  [36mWhen [0m[36mI provide RFM [0m[36m[1mcontact number[0m[36m as [0m[36m[1m01632960001[0m                                                                                 [90m# RFMPagesStepDef.scala:79[0m
  [36mAnd [0m[36mI select option [0m[36m[1mYes[0m[36m and continue to next[0m                                                                                     [90m# StepDef.scala:527[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                                                                   [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should see an error message [0m[36m[1mEnter name of the person or team we should contact[0m[36m on the RFM [0m[36m[1msecond contact name[0m[36m Page[0m        [90m# RFMPagesStepDef.scala:127[0m
  [36mWhen [0m[36mI provide RFM [0m[36m[1mcontact name[0m[36m as [0m[36m[1mRFM second test contact[0m                                                                       [90m# RFMPagesStepDef.scala:79[0m
  [36mWhen [0m[36m[0m[36m[1mI click on Continue button[0m                                                                                                  [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should see an error message [0m[36m[1mYou need to enter the email address for RFM second test contact[0m[36m on the RFM [0m[36m[1mcontact email[0m[36m Page[0m [90m# RFMPagesStepDef.scala:127[0m
  [36mWhen [0m[36mI provide RFM [0m[36m[1mcontact email[0m[36m as [0m[36m[1mrfmsecondcontact@email.com[0m                                                                   [90m# RFMPagesStepDef.scala:79[0m
  [36mThen [0m[36m[0m[36m[1mI click on Continue button[0m                                                                                                  [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should see an error message [0m[36m[1mSelect yes if we can contact RFM second test contact by phone[0m[36m on the RFM [0m[36m[1minput telephone[0m[36m Page[0m [90m# RFMPagesStepDef.scala:127[0m
  [36mWhen [0m[36mI select option [0m[36m[1mYes[0m[36m and continue to next[0m                                                                                    [90m# StepDef.scala:527[0m
  [36mWhen [0m[36mI provide RFM [0m[36m[1msecond contact number[0m[36m as [0m[36m[1m09872960001[0m                                                                          [90m# RFMPagesStepDef.scala:79[0m
  [36mWhen [0m[36mI enter Address as:[0m                                                                                                         [90m# EligibilityQuestionSteps.scala:79[0m
    | KEY          | VALUE              |
    | addressLine1 | Address Line 1 CYA |
    | addressLine3 | City CYA           |
    | postalCode   | EH5 5WY            |
    | countryCode  | Australia          |
  [36mAnd [0m[36mI should see the row [0m[36m[1m1[0m[36m value [0m[36m[1mUltimate Parent Entity (UPE)[0m                                                                    [90m# RFMPagesStepDef.scala:334[0m
  [36mWhen [0m[36mI click on change link for [0m[36m[1mContact Name[0m                                                                                     [90m# ChangeYourAnswersPageSteps.scala:97[0m
  [36mWhen [0m[36mI enter [0m[36m[1mContact Name[0m[36m as [0m[36m[1m400[0m                                                                                                 [90m# UPEPageSteps.scala:26[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                                                                   [90m# StepDef.scala:185[0m
  [36mThen [0m[36mI should be redirected to [0m[36m[1m"RFM processing page"[0m[36m or [0m[36m[1m"Amend API error Page for RFM"[0m                                           [90m# RFMPagesStepDef.scala:388[0m
  [36mWhen [0m[36mI click [0m[36m[1mto replace the filing member for a Pillar 2 Top-up Taxes account to try again[0m[36m link[0m                                  [90m# StepDef.scala:523[0m
  [36mThen [0m[36mI should navigate to [0m[36m[1mRFM Final Review Page[0m                                                                                  [90m# EligibilityQuestionSteps.scala:53[0m
  [36mWhen [0m[36mI click on change link for [0m[36m[1mContact Name[0m                                                                                     [90m# ChangeYourAnswersPageSteps.scala:97[0m
  [36mWhen [0m[36mI enter [0m[36m[1mContact Name[0m[36m as [0m[36m[1mtest name[0m                                                                                           [90m# UPEPageSteps.scala:26[0m
  [36mAnd [0m[36m[0m[36m[1mI click on Continue button[0m                                                                                                   [90m# StepDef.scala:185[0m
  [36mAnd [0m[36mI should navigate to [0m[36m[1mRFM Confirmation Page[0m                                                                                   [90m# EligibilityQuestionSteps.scala:53[0m
  [36mAnd [0m[36mI should see [0m[36m[1mreport and manage your group's Pillar 2 Top-up Taxes[0m[36m link[0m                                                       [90m# StepDef.scala:566[0m
  [36mAnd [0m[36mI can see [0m[36m[1mPrint this page[0m[36m link[0m                                                                                               [90m# StepDef.scala:610[0m
  [36mWhen [0m[36mI click [0m[36m[1mreport and manage your group's Pillar 2 Top-up Taxes[0m[36m link[0m                                                           [90m# StepDef.scala:523[0m
  [36mThen [0m[36mI should be on [0m[36m[1mDashboard page[0m                                                                                               [90m# EligibilityQuestionSteps.scala:107[0m

    Embedding 6_-_Verify_that_UPE_can_replace_existing_FM_on_the_Pillar_2_account.png [image/png 203447 bytes]

[error] Test RFM CYA - NFM No ID flow.2 - Validating RFM final submission for RFM as selecting UPE then changed to NFM No ID journey failed: org.openqa.selenium.TimeoutException: Expected condition failed: waiting for presence of element located by: By.id: addressLine1 (tried for 15 second(s) with 500 milliseconds interval), took 21.578 sec
[error]     at org.openqa.selenium.support.ui.WebDriverWait.timeoutException(WebDriverWait.java:84)
[error]     at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:228)
[error]     at uk.gov.hmrc.test.ui.cucumber.Wait$.waitForElementToPresentById(Wait.scala:71)
[error]     at uk.gov.hmrc.test.ui.cucumber.stepdefs.EligibilityQuestionSteps.$anonfun$new$6(EligibilityQuestionSteps.scala:90)
[error]     at ✽.I enter Address as:(file:///Users/olkuy/workspace/PIL-2275/pillar2-acceptance-tests/src/test/resources/features/RFMnfmNoIDFlow.feature:68)
[error] Caused by: org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {"method":"css selector","selector":"#addressLine1"}
[error]   (Session info: chrome=136.0.7103.113)
[error] For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception
[error] Build info: version: '4.33.0', revision: '2c6aaad03a'
[error] System info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '15.6', java.version: '11.0.19'
[error] Driver info: org.openqa.selenium.chrome.ChromeDriver
[error] Command: [8b0e871579b93bceb5c073c5bceba658, findElement {using=id, value=addressLine1}]
[error] Capabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 136.0.7103.113, chrome: {chromedriverVersion: 136.0.7103.113 (76fa3c17824..., userDataDir: /var/folders/hf/lnyf1q6x6w1...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:50645}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: mac, proxy: Proxy(), se:cdp: ws://localhost:50645/devtoo..., se:cdpVersion: 136.0.7103.113, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}
[error] Session ID: 8b0e871579b93bceb5c073c5bceba658
[error]     at jdk.internal.reflect.GeneratedConstructorAccessor20.newInstance(Unknown Source)
[error]     at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
[error]     at java.lang.reflect.Constructor.newInstance(Constructor.java:490)
[error]     at org.openqa.selenium.remote.ErrorCodec.decode(ErrorCodec.java:167)
[error]     at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:138)
[error]     at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:50)
[error]     at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:215)
[error]     at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:216)
[error]     at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:174)
[error]     at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:544)
[error]     at org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:165)
[error]     at org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:59)
[error]     at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:367)
[error]     at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:361)
[error]     at org.openqa.selenium.support.ui.ExpectedConditions$6.apply(ExpectedConditions.java:171)
[error]     at org.openqa.selenium.support.ui.ExpectedConditions$6.apply(ExpectedConditions.java:168)
[error]     at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:203)
[error]     at uk.gov.hmrc.test.ui.cucumber.Wait$.waitForElementToPresentById(Wait.scala:71)
[error]     at uk.gov.hmrc.test.ui.cucumber.stepdefs.EligibilityQuestionSteps.$anonfun$new$6(EligibilityQuestionSteps.scala:90)
[error]     at io.cucumber.scala.StepDsl$StepBody$$anonfun$apply$2.applyOrElse(StepDsl.scala:60)
[error]     at io.cucumber.scala.StepDsl$StepBody$$anonfun$apply$2.applyOrElse(StepDsl.scala:58)
[error]     at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:35)
[error]     at io.cucumber.scala.ScalaStepDefinition.$anonfun$execute$1(ScalaStepDefinition.scala:31)
[error]     at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.scala:18)
[error]     at scala.util.Try$.apply(Try.scala:217)
[error]     at io.cucumber.scala.AbstractGlueDefinition.executeAsCucumber(AbstractGlueDefinition.scala:36)
[error]     at io.cucumber.scala.AbstractGlueDefinition.executeAsCucumber$(AbstractGlueDefinition.scala:35)
[error]     at io.cucumber.scala.ScalaScenarioScopedStepDefinition.executeAsCucumber(ScalaStepDefinition.scala:59)
[error]     at io.cucumber.scala.ScalaStepDefinition.execute(ScalaStepDefinition.scala:30)
[error]     at io.cucumber.scala.ScalaStepDefinition.execute$(ScalaStepDefinition.scala:29)
[error]     at io.cucumber.scala.ScalaScenarioScopedStepDefinition.execute(ScalaStepDefinition.scala:59)
[error]     at io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)
[error]     at io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)
[error]     at io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)
[error]     at io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)
[error]     at io.cucumber.core.runner.TestStep.run(TestStep.java:56)
[error]     at io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)
[error]     at io.cucumber.core.runner.TestCase.run(TestCase.java:84)
[error]     at io.cucumber.core.runner.Runner.runPickle(Runner.java:75)
[error]     at io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)
[error]     at io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)
[error]     at io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)
[error]     at io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)
[error]     at io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:148)
[error]     at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:144)
[error]     at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:28)
[error]     ...
[error] Test RFM CYA - NFM No ID flow.3 - Validating RFM Check your answers page navigations failed: org.openqa.selenium.TimeoutException: Expected condition failed: waiting for url to contain "http://localhost:10050/report-pillar2-top-up-taxes/replace-filing-member/corporate-position". Current url: "http://localhost:10050/report-pillar2-top-up-taxes/replace-filing-member/security/check-answers" (tried for 15 second(s) with 500 milliseconds interval)
[error] Build info: version: '4.33.0', revision: '2c6aaad03a'
[error] System info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '15.6', java.version: '11.0.19'
[error] Driver info: org.openqa.selenium.chrome.ChromeDriver
[error] Capabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 136.0.7103.113, chrome: {chromedriverVersion: 136.0.7103.113 (76fa3c17824..., userDataDir: /var/folders/hf/lnyf1q6x6w1...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:50645}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: mac, proxy: Proxy(), se:cdp: ws://localhost:50645/devtoo..., se:cdpVersion: 136.0.7103.113, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}
[error] Session ID: 8b0e871579b93bceb5c073c5bceba658, took 18.276 sec
[error]     at org.openqa.selenium.support.ui.WebDriverWait.timeoutException(WebDriverWait.java:84)
[error]     at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:228)
[error]     at uk.gov.hmrc.test.ui.cucumber.Wait$.waitForUrl(Wait.scala:61)
[error]     at uk.gov.hmrc.test.ui.cucumber.stepdefs.RFMPagesStepDef.$anonfun$new$14(RFMPagesStepDef.scala:322)
[error]     at ✽.I select corp position as UPE(file:///Users/olkuy/workspace/PIL-2275/pillar2-acceptance-tests/src/test/resources/features/RFMnfmNoIDFlow.feature:140)
[error] Test RFM CYA - NFM No ID flow.4 - Validating RFM Check your answers page for UPE/NFM journey Responses failed: org.openqa.selenium.TimeoutException: Expected condition failed: waiting for presence of element located by: By.cssSelector: .govuk-button (tried for 20 second(s) with 250 milliseconds interval), took 23.085 sec
[error]     at org.openqa.selenium.support.ui.FluentWait.timeoutException(FluentWait.java:265)
[error]     at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:228)
[error]     at uk.gov.hmrc.test.ui.cucumber.Find$.find(Find.scala:30)
[error]     at uk.gov.hmrc.test.ui.cucumber.Find$.findByCss(Find.scala:43)
[error]     at uk.gov.hmrc.test.ui.pages.InitialGuidancePage$.clickContinue(InitialGuidancePage.scala:35)
[error]     at uk.gov.hmrc.test.ui.cucumber.stepdefs.StepDef.$anonfun$new$24(StepDef.scala:186)
[error]     at ✽.I click on Continue button(file:///Users/olkuy/workspace/PIL-2275/pillar2-acceptance-tests/src/test/resources/features/RFMnfmNoIDFlow.feature:184)
[error] Caused by: org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {"method":"css selector","selector":".govuk-button"}
[error]   (Session info: chrome=136.0.7103.113)
[error] For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#no-such-element-exception
[error] Build info: version: '4.33.0', revision: '2c6aaad03a'
[error] System info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '15.6', java.version: '11.0.19'
[error] Driver info: org.openqa.selenium.chrome.ChromeDriver
[error] Command: [8b0e871579b93bceb5c073c5bceba658, findElement {using=css selector, value=.govuk-button}]
[error] Capabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 136.0.7103.113, chrome: {chromedriverVersion: 136.0.7103.113 (76fa3c17824..., userDataDir: /var/folders/hf/lnyf1q6x6w1...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:50645}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: mac, proxy: Proxy(), se:cdp: ws://localhost:50645/devtoo..., se:cdpVersion: 136.0.7103.113, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}
[error] Session ID: 8b0e871579b93bceb5c073c5bceba658
[error]     at jdk.internal.reflect.GeneratedConstructorAccessor20.newInstance(Unknown Source)
[error]     at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
[error]     at java.lang.reflect.Constructor.newInstance(Constructor.java:490)
[error]     at org.openqa.selenium.remote.ErrorCodec.decode(ErrorCodec.java:167)
[error]     at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:138)
[error]     at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:50)
[error]     at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:215)
[error]     at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:216)
[error]     at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:174)
[error]     at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:544)
[error]     at org.openqa.selenium.remote.ElementLocation$ElementFinder$2.findElement(ElementLocation.java:165)
[error]     at org.openqa.selenium.remote.ElementLocation.findElement(ElementLocation.java:59)
[error]     at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:367)
[error]     at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:361)
[error]     at org.openqa.selenium.support.ui.ExpectedConditions$6.apply(ExpectedConditions.java:171)
[error]     at org.openqa.selenium.support.ui.ExpectedConditions$6.apply(ExpectedConditions.java:168)
[error]     at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:203)
[error]     at uk.gov.hmrc.test.ui.cucumber.Find$.find(Find.scala:30)
[error]     at uk.gov.hmrc.test.ui.cucumber.Find$.findByCss(Find.scala:43)
[error]     at uk.gov.hmrc.test.ui.pages.InitialGuidancePage$.clickContinue(InitialGuidancePage.scala:35)
[error]     at uk.gov.hmrc.test.ui.cucumber.stepdefs.StepDef.$anonfun$new$24(StepDef.scala:186)
[error]     at uk.gov.hmrc.test.ui.cucumber.stepdefs.StepDef.$anonfun$new$24$adapted(StepDef.scala:185)
[error]     at io.cucumber.scala.StepDsl$StepBody$$anonfun$apply$2.applyOrElse(StepDsl.scala:60)
[error]     at io.cucumber.scala.StepDsl$StepBody$$anonfun$apply$2.applyOrElse(StepDsl.scala:58)
[error]     at scala.runtime.AbstractPartialFunction.apply(AbstractPartialFunction.scala:35)
[error]     at io.cucumber.scala.ScalaStepDefinition.$anonfun$execute$1(ScalaStepDefinition.scala:31)
[error]     at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.scala:18)
[error]     at scala.util.Try$.apply(Try.scala:217)
[error]     at io.cucumber.scala.AbstractGlueDefinition.executeAsCucumber(AbstractGlueDefinition.scala:36)
[error]     at io.cucumber.scala.AbstractGlueDefinition.executeAsCucumber$(AbstractGlueDefinition.scala:35)
[error]     at io.cucumber.scala.ScalaScenarioScopedStepDefinition.executeAsCucumber(ScalaStepDefinition.scala:59)
[error]     at io.cucumber.scala.ScalaStepDefinition.execute(ScalaStepDefinition.scala:30)
[error]     at io.cucumber.scala.ScalaStepDefinition.execute$(ScalaStepDefinition.scala:29)
[error]     at io.cucumber.scala.ScalaScenarioScopedStepDefinition.execute(ScalaStepDefinition.scala:59)
[error]     at io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)
[error]     at io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)
[error]     at io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)
[error]     at io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)
[error]     at io.cucumber.core.runner.TestStep.run(TestStep.java:56)
[error]     at io.cucumber.core.runner.PickleStepTestStep.run(PickleStepTestStep.java:51)
[error]     at io.cucumber.core.runner.TestCase.run(TestCase.java:84)
[error]     at io.cucumber.core.runner.Runner.runPickle(Runner.java:75)
[error]     at io.cucumber.junit.PickleRunners$NoStepDescriptions.lambda$run$0(PickleRunners.java:151)
[error]     at io.cucumber.core.runtime.CucumberExecutionContext.lambda$runTestCase$5(CucumberExecutionContext.java:137)
[error]     at io.cucumber.core.runtime.RethrowingThrowableCollector.executeAndThrow(RethrowingThrowableCollector.java:23)
[error]     at io.cucumber.core.runtime.CucumberExecutionContext.runTestCase(CucumberExecutionContext.java:137)
[error]     at io.cucumber.junit.PickleRunners$NoStepDescriptions.run(PickleRunners.java:148)
[error]     at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:144)
[error]     at io.cucumber.junit.FeatureRunner.runChild(FeatureRunner.java:28)
[error]     ...
[error] Test RFM CYA - NFM No ID flow.5 - Verify that New NFM can replace existing FM through NO ID flow on the Pillar 2 account failed: org.openqa.selenium.TimeoutException: Expected condition failed: waiting for url to contain "http://localhost:10050/report-pillar2-top-up-taxes/replace-filing-member/corporate-position". Current url: "http://localhost:10050/report-pillar2-top-up-taxes/replace-filing-member/security/saving-progress" (tried for 15 second(s) with 500 milliseconds interval)
[error] Build info: version: '4.33.0', revision: '2c6aaad03a'
[error] System info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '15.6', java.version: '11.0.19'
[error] Driver info: org.openqa.selenium.chrome.ChromeDriver
[error] Capabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 136.0.7103.113, chrome: {chromedriverVersion: 136.0.7103.113 (76fa3c17824..., userDataDir: /var/folders/hf/lnyf1q6x6w1...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:50645}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: mac, proxy: Proxy(), se:cdp: ws://localhost:50645/devtoo..., se:cdpVersion: 136.0.7103.113, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}
[error] Session ID: 8b0e871579b93bceb5c073c5bceba658, took 18.805 sec
[error]     at org.openqa.selenium.support.ui.WebDriverWait.timeoutException(WebDriverWait.java:84)
[error]     at org.openqa.selenium.support.ui.FluentWait.until(FluentWait.java:228)
[error]     at uk.gov.hmrc.test.ui.cucumber.Wait$.waitForUrl(Wait.scala:61)
[error]     at uk.gov.hmrc.test.ui.cucumber.stepdefs.RFMPagesStepDef.$anonfun$new$14(RFMPagesStepDef.scala:322)
[error]     at ✽.I select corp position as NFM(file:///Users/olkuy/workspace/PIL-2275/pillar2-acceptance-tests/src/test/resources/features/RFMnfmNoIDFlow.feature:277)
[error] Test RFM CYA - NFM No ID flow.6 - Verify that UPE can replace existing FM on the Pillar 2 account failed: org.openqa.selenium.StaleElementReferenceException: stale element reference: stale element not found
[error]   (Session info: chrome=136.0.7103.113)
[error] For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#stale-element-reference-exception
[error] Build info: version: '4.33.0', revision: '2c6aaad03a'
[error] System info: os.name: 'Mac OS X', os.arch: 'aarch64', os.version: '15.6', java.version: '11.0.19'
[error] Driver info: org.openqa.selenium.chrome.ChromeDriver
[error] Command: [8b0e871579b93bceb5c073c5bceba658, clickElement {id=f.5CA81AB78492EBD40621862897154AC2.d.ADDC2CCF231EAEC62F12E8DD8D73BF92.e.811}]
[error] Capabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 136.0.7103.113, chrome: {chromedriverVersion: 136.0.7103.113 (76fa3c17824..., userDataDir: /var/folders/hf/lnyf1q6x6w1...}, fedcm:accounts: true, goog:chromeOptions: {debuggerAddress: localhost:50645}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: mac, proxy: Proxy(), se:cdp: ws://localhost:50645/devtoo..., se:cdpVersion: 136.0.7103.113, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}
[error] Element: [[ChromeDriver: chrome on mac (8b0e871579b93bceb5c073c5bceba658)] -> css selector: button.govuk-button]
[error] Session ID: 8b0e871579b93bceb5c073c5bceba658, took 2.979 sec
[error]     at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
[error]     at jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
[error]     at jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
[error]     at java.lang.reflect.Constructor.newInstance(Constructor.java:490)
[error]     at org.openqa.selenium.remote.ErrorCodec.decode(ErrorCodec.java:167)
[error]     at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:138)
[error]     at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:50)
[error]     at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:215)
[error]     at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:216)
[error]     at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:174)
[error]     at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:544)
[error]     at org.openqa.selenium.remote.RemoteWebElement.execute(RemoteWebElement.java:223)
[error]     at org.openqa.selenium.remote.RemoteWebElement.click(RemoteWebElement.java:76)
[error]     at uk.gov.hmrc.test.ui.pages.UPEEntityTypePage$.clickContinue(UPEEntityTypePage.scala:39)
[error]     at uk.gov.hmrc.test.ui.cucumber.stepdefs.UPEPageSteps.$anonfun$new$15(UPEPageSteps.scala:339)
[error]     at ✽.I click on Save&Continue button(file:///Users/olkuy/workspace/PIL-2275/pillar2-acceptance-tests/src/test/resources/features/RFMnfmNoIDFlow.feature:318)
[error] Failed: Total 6, Failed 5, Errors 0, Passed 1
[error] Failed tests:
[error] 	uk.gov.hmrc.test.ui.cucumber.runner.Runner
[error] (Test / testOnly) sbt.TestsFailedException: Tests unsuccessful
[error] Total time: 99 s (0:01:39.0), completed Aug 10, 2025, 5:46:38 PM
